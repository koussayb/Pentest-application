import "./sidebar.css";
import {
  LineStyle,
  TrackChangesTwoTone,
  Assignment,
  PermIdentity,

  NetworkCheckOutlined,

  BarChart,
  MailOutline,
  WorkOutline,
  Report,
} from "@material-ui/icons";
import { NavLink } from "react-router-dom";
import { MenuItem, Menu } from "@material-ui/core";
import { useState } from "react";
import BasicModal from "../modal/Modal";
import { useLocation } from "react-router-dom";
import LaunchIcon from "@material-ui/icons/Launch";
import CodeIcon from "@material-ui/icons/Code";
import StorageIcon from "@material-ui/icons/Storage";
import ArrowRightIcon from "@material-ui/icons/ArrowRight";
const Sidebar = ({ match }) => {
  const location = useLocation();

  const [anchorEl, setAnchorEl] = useState(null);
  const open = Boolean(anchorEl);
  const [openModal, setOpenModal] = useState(false);
  const [anchorEl1, setAnchorEl1] = useState(null);
  const handleClick = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleClose = () => {
    setAnchorEl(null);
  };

  const openModalHandler = () => {
    setOpenModal(true);
    handleClose();
  };

  if (location.pathname === "/login") {
    return null;
  }

  const handleClick1 = (event) => {
    setAnchorEl1(event.currentTarget);
  };

  const handleClose1 = () => {
    setAnchorEl1(null);
  };

  return (
    <>
      <BasicModal open={openModal} setOpen={setOpenModal} />
      <div className="sidebar">
        <div className="sidebarWrapper">
          <div className="sidebarMenu">
            <ul className="sidebarList">
              <NavLink to="/" className="link1">
                <li className="sidebarListItem ">
                  <LineStyle className="sidebarIcon" />
                  Dashboard
                </li>
              </NavLink>
              <li onClick={handleClick} className="sidebarListItem ">
                <TrackChangesTwoTone
                  className="sidebarIcon"
                  onClick={openModalHandler}
                />
                Targets <ArrowRightIcon className="flesh"></ArrowRightIcon>
              </li>
              <Menu
                style={{ marginTop: 30, marginLeft: 150 }}
                id="basic-menu"
                anchorEl={anchorEl}
                open={open}
                onClose={handleClose}
                MenuListProps={{
                  "aria-labelledby": "basic-button",
                }}
              >
                <MenuItem style={{ width: 250 }} onClick={openModalHandler}>
                  Add Target
                </MenuItem>
              </Menu>

              <NavLink to="/projects" className="link1">
                <li className="sidebarListItem">
                  <Assignment className="sidebarIcon" />
                  Project
                </li>
              </NavLink>
              <NavLink to="/Dynamic" className="link1">
                <li className="sidebarListItem">
                  <CodeIcon className="sidebarIcon" />
                  Dynamic Scans
                </li>
              </NavLink>
              <NavLink to="/Infrasctructure" className="link1">
                <li className="sidebarListItem">
                  <StorageIcon className="sidebarIcon" />
                  Infrasctructure Scans
                </li>
              </NavLink>

              <li onClick={handleClick1} className="sidebarListItem">
                <LaunchIcon className="sidebarIcon" />
                Launch Scans <ArrowRightIcon className="flesh"></ArrowRightIcon>
              </li>
              <Menu
                style={{ marginTop: " -8%", marginLeft: 150 }}
                id="basic-menu"
                anchorEl1={anchorEl1}
                keepMounted
                open={Boolean(anchorEl1)}
                onClose={handleClose1}
                MenuListProps={{
                  "aria-labelledby": "basic-button",
                }}
              >
                <NavLink to="/launchScans/Dynamic" className="link1">
                  <MenuItem style={{ width: 250 }} onClick={handleClose1}>
                    {" "}
                    <CodeIcon></CodeIcon>Dynamic Scans{" "}
                  </MenuItem>
                </NavLink>
                <NavLink to="/launchScans/Infrasctructure" className="link1">
                  <MenuItem onClick={handleClose1}>
                    <StorageIcon></StorageIcon>Infrastructure Scans
                  </MenuItem>
                </NavLink>
              </Menu>

              
            </ul>
          </div>
          <div className="line"></div>

          <ul className="sidebarList">
          <NavLink to="/connectors" className="link1">
                <li className="sidebarListItem">
                  <BarChart className="sidebarIcon" />
                  Connectors
                </li>
              </NavLink>
            <NavLink to="/Users" className="link1">
              <li className="sidebarListItem">
                <PermIdentity className="sidebarIcon" />
                Users
              </li>
            </NavLink>

            <NavLink to="/NetworkScanner" className="link1">
              <li className="sidebarListItem">
                <NetworkCheckOutlined className="sidebarIcon" />
                Network Scanner
              </li>
            </NavLink>
          </ul>
        </div>
        <div className="line"></div>
        <div className="sidebarMenu">
          <ul className="sidebarList">
            <li className="sidebarListItem">
              <MailOutline className="sidebarIcon" />
              Mail
            </li>
          </ul>
        </div>
        <div className="sidebarMenu">
          <div className="line"></div>

          <ul className="sidebarList">
            <li className="sidebarListItem">
              <WorkOutline className="sidebarIcon" />
              Manage
            </li>

            <li className="sidebarListItem">
              <Report className="sidebarIcon" />
              Reports
            </li>
          </ul>
        </div>
      </div>
    </>
  );
};

export default Sidebar;
